language: node_js
node_js:
  - "0.10"
sudo: required
before_install:
- npm update -g npm
- npm --version
- export CHROME_BIN=chromium-browser
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
install:
- npm install -g bower
- npm install -g gulp
- npm install phantomjs
- npm install -g karma
- bower install
before_script:
script:
  - gulp scripts
  - gulp inject
  - gulp build
  - gulp test
  - npm test
branches:
  only:
    - master
